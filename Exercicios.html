<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cards</title>

    <style>
        body{
            background-color: #4444;
        }

        .listCards {
            display: flex;
            width: 100%;
        }

        .card {
            margin-right: 30px;
            background-color: white;
            width: 30%;
        }

        .image {
            width: 200px;
        }

        .precoDados {
            display: flex;
        }

        .preco {
            margin-right: 20px;
        }

        .desconto {
            border: 1px solid green;
            padding: 5px 25px;
            background-color: green;
        }

    </style>
</head>
<body>

</body>
    <script>
        function Product(nome, preco, descricao, imagem, disponivel, avaliacao, caracteristicas, tags, desconto) {
            this.nome = nome
            this.preco = preco
            this.descricao = descricao
            this.imagem = imagem
            this.disponivel = disponivel
            this.avaliacao = avaliacao
            this.caracteristicas = caracteristicas
            this.tags = tags
            this.desconto = desconto 
            this.pegarPrecoFinal = function() {   
                return (this.preco * (1 - this.desconto * 0.01))
            }
        }        

        var produto1 = new Product("Honor", 1000, "cel 8 polegadas", "./img/Honor.jpg", false, 4.5, ["8 polegadas", "honor 5.3","verde"], ["celular", "android"], 2)
        var produto2 = new Product("Apple", 6000, "cel 12 polegadas", "./img/iphone.png", true, 5.0, ["12 polegadas", "apple 9.3", "plata"], ["celular", "apple", "tecnologia"], 5)
        var produto3 = new Product("Xiaomi", 3500, "cel 10 polegadas", "./img/xiaomi.png", true, 4.0, ["10 polegadas", "xiaomi 8.7", "azul"], ["celular", "xiaomi", "tecnologia"], 10)

        var listCards = document.createElement('div')
            listCards.classList.add('listCards')


        function createHtmlCard(product) {

            let card = document.createElement('div')
            card.classList.add('card')

            let name = document.createElement('h1')
            name.textContent = `${product.nome}`

            let descricao = document.createElement('h2')
            descricao.textContent = `${product.descricao}`

            let disponivel = document.createElement('h2')
            if(product.disponivel === true) {
                disponivel.textContent = `Disponível`
            } else {
                disponivel.textContent = `Indisponível`
            }

            var precoFinal = product.pegarPrecoFinal()
            var preco = document.createElement('h2')
            preco.innerHTML = `Preço: ${precoFinal}`    
            preco.classList.add('preco')
            
            var desconto = document.createElement('h2')
            desconto.textContent = `Desconto ${product.desconto}%`
            desconto.classList.add('desconto')

            var imagem = document.createElement('img')
            imagem.setAttribute('src', product.imagem)
            imagem.classList.add('image')

            var caracteristicas = document.createElement('h2')
            caracteristicas.textContent = `Características: ${product.caracteristicas.join(', ')}`

            var tags = document.createElement('h2')
            tags.textContent = `Tags: ${product.tags.join(', ')}`

            card.appendChild(name)
            card.appendChild(descricao)
            card.appendChild(disponivel)
            card.appendChild(imagem)
            card.appendChild(tags)
            card.appendChild(caracteristicas)
            var precoDados = document.createElement('div')
            precoDados.classList.add('precoDados')
            card.appendChild(precoDados)
            precoDados.appendChild(preco)
            precoDados.appendChild(desconto)

            listCards.appendChild(card)    
        
        }

        document.body.appendChild(listCards)
        
        let arrayCards = []

        arrayCards.push(produto1, produto2, produto3)

        console.log(arrayCards)

        function generateCardList(arrayCards) {
            arrayCards.forEach( card => {
                createHtmlCard(card)
            });
        }

        generateCardList(arrayCards)


    </script>


</html>